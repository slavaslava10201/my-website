<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–û—Ç—Å—á—ë—Ç –¥–æ –ª–µ—Ç–∞ ‚Äî –¢—é–º–µ–Ω—å (UTC+5)</title>
  <meta name="description" content="–°—Ç–∏–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞ –¥–æ –ª–µ—Ç–∞ –ø–æ —Ç—é–º–µ–Ω—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (Asia/Yekaterinburg, UTC+5)." />
  <style>
    :root {
      --bg-start: #0f172a; /* slate-900 */
      --bg-end: #1e293b;   /* slate-800 */
      --card: rgba(255, 255, 255, 0.06);
      --text: #e2e8f0;     /* slate-200 */
      --muted: #94a3b8;    /* slate-400 */
      --accent: #22c55e;   /* green-500 */
      --accent-2: #86efac; /* green-300 */
      --shadow: 0 20px 60px rgba(0,0,0,.35);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #0b1220 0%, var(--bg-start) 35%, var(--bg-end) 100%);
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .wrap {
      width: min(100%, 1000px);
      display: grid;
      gap: 22px;
      text-align: center;
    }

    .title {
      font-weight: 800;
      font-size: clamp(28px, 6vw, 56px);
      letter-spacing: 0.5px;
      line-height: 1.1;
    }

    .subtitle { color: var(--muted); font-size: clamp(14px, 2.2vw, 18px); }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 24px;
      box-shadow: var(--shadow);
      padding: clamp(16px, 4vw, 32px);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: clamp(10px, 2vw, 16px);
    }

    .cell {
      background: var(--card);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 18px;
      padding: clamp(12px, 2.6vw, 20px);
      display: grid;
      gap: 8px;
      align-items: center;
    }

    .value {
      font-variant-numeric: tabular-nums;
      font-weight: 800;
      font-size: clamp(32px, 8vw, 64px);
      line-height: 1;
    }

    .label { color: var(--muted); text-transform: uppercase; letter-spacing: 1px; font-size: 12px; }

    .badge {
      display: inline-flex; align-items: center; gap: 8px;
      background: rgba(34,197,94,.12);
      color: var(--accent-2);
      border: 1px solid rgba(134,239,172,.4);
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 12px;
    }

    .footer { color: var(--muted); font-size: 12px; }

    .rain {
      position: fixed; inset: 0; pointer-events: none; overflow: hidden;
    }

    .leaf { position: absolute; top: -10vh; opacity: .85; filter: drop-shadow(0 6px 12px rgba(0,0,0,.25)); }

    @keyframes fall {
      to { transform: translateY(120vh) rotate(360deg); opacity: .9; }
    }

    .arrived { color: var(--accent-2); }
  </style>
</head>
<body>
  <div class="wrap">
    <div>
      <div class="badge">üåç –í—Ä–µ–º—è –¢—é–º–µ–Ω–∏ ¬∑ Asia/Yekaterinburg (UTC+5)</div>
      <h1 class="title">–û—Ç—Å—á—ë—Ç –¥–æ –ª–µ—Ç–∞</h1>
      <div class="subtitle">–õ–µ—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å 1 –∏—é–Ω—è, 00:00 –ø–æ —Ç—é–º–µ–Ω—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏.</div>
    </div>

    <div class="card">
      <div id="status" class="subtitle" style="margin-bottom: 14px"></div>
      <div class="grid" id="timer">
        <div class="cell"><div class="value" id="days">--</div><div class="label">–¥–Ω–µ–π</div></div>
        <div class="cell"><div class="value" id="hours">--</div><div class="label">—á–∞—Å–æ–≤</div></div>
        <div class="cell"><div class="value" id="mins">--</div><div class="label">–º–∏–Ω—É—Ç</div></div>
        <div class="cell"><div class="value" id="secs">--</div><div class="label">—Å–µ–∫—É–Ω–¥</div></div>
      </div>
    </div>

    <div class="card">
      <div class="subtitle">–°–µ–π—á–∞—Å –≤ –¢—é–º–µ–Ω–∏:</div>
      <div class="value" id="nowTyumen" style="font-size: clamp(20px, 4.8vw, 36px);"></div>
    </div>

    <div class="footer">–°–¥–µ–ª–∞–Ω–æ –±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫. –ú–æ–∂–Ω–æ —Ä–∞–∑–º–µ—â–∞—Ç—å –∫–∞–∫ <code>index.html</code> –Ω–∞ –ª—é–±–æ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ.</div>
  </div>

  <div class="rain" id="rain" aria-hidden="true"></div>

  <script>
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    const TZ = 'Asia/Yekaterinburg'; // –¢—é–º–µ–Ω—å
    const FIXED_OFFSET_HOURS = 5; // UTC+5 (–±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –ª–µ—Ç–Ω–µ–µ –≤—Ä–µ–º—è)

    function getTyumenNowParts() {
      const now = new Date();
      const parts = new Intl.DateTimeFormat('ru-RU', {
        timeZone: TZ,
        year: 'numeric', month: '2-digit', day: '2-digit',
        hour: '2-digit', minute: '2-digit', second: '2-digit',
        hour12: false
      }).formatToParts(now).reduce((acc, p) => (acc[p.type] = p.value, acc), {});
      return {
        year: Number(parts.year),
        month: Number(parts.month), // 1..12
        day: Number(parts.day),
        hour: Number(parts.hour),
        minute: Number(parts.minute),
        second: Number(parts.second)
      };
    }

    function targetSummerUtcMs() {
      const n = getTyumenNowParts();
      const hasArrivedThisYear = (
        n.month > 6 ||
        (n.month === 6 && (n.day > 1 || (n.day === 1 && (n.hour > 0 || n.minute > 0 || n.second > 0))))
      );
      const year = hasArrivedThisYear ? n.year + 1 : n.year;
      // 1 –∏—é–Ω—è 00:00 –ø–æ UTC+5 = 31 –º–∞—è 19:00 UTC –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è
      const utcMs = Date.UTC(year, 5, 1, 0, 0, 0) - FIXED_OFFSET_HOURS * 3600 * 1000;
      return utcMs;
    }

    function plural(n, forms) {
      // –†—É—Å—Å–∫–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ: [1, 2-4, 5-0]
      n = Math.abs(n) % 100; const n1 = n % 10;
      if (n > 10 && n < 20) return forms[2];
      if (n1 > 1 && n1 < 5) return forms[1];
      if (n1 === 1) return forms[0];
      return forms[2];
    }

    function formatTyumenNow() {
      const now = new Date();
      return new Intl.DateTimeFormat('ru-RU', {
        timeZone: TZ,
        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
        hour: '2-digit', minute: '2-digit', second: '2-digit',
        hour12: false
      }).format(now);
    }

    function updateTimer() {
      const nowMs = Date.now();
      const targetMs = targetSummerUtcMs();
      let diff = Math.max(0, targetMs - nowMs);

      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (24 * 3600));
      const hours = Math.floor((totalSeconds % (24 * 3600)) / 3600);
      const mins = Math.floor((totalSeconds % 3600) / 60);
      const secs = totalSeconds % 60;

      document.getElementById('days').textContent = String(days);
      document.getElementById('hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('mins').textContent = String(mins).padStart(2, '0');
      document.getElementById('secs').textContent = String(secs).padStart(2, '0');

      const status = document.getElementById('status');
      if (diff === 0) {
        status.innerHTML = '<span class="arrived">‚òÄÔ∏è –õ–µ—Ç–æ –Ω–∞—Å—Ç—É–ø–∏–ª–æ! –°–ª–µ–¥—É—é—â–∏–π –æ—Ç—Å—á—ë—Ç ‚Äî –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ 1 –∏—é–Ω—è.</span>';
        startLeaves();
      } else {
        status.textContent = `–î–æ –ª–µ—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å: ${days} ${plural(days, ['–¥–µ–Ω—å','–¥–Ω—è','–¥–Ω–µ–π'])}`;
      }

      document.getElementById('nowTyumen').textContent = formatTyumenNow();
    }

    // –ü—Ä–æ—Å—Ç–∞—è "–∑–µ–ª—ë–Ω–∞—è –º–µ—Ç–µ–ª—å" –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –ª–µ—Ç–∞
    function startLeaves() {
      const container = document.getElementById('rain');
      if (container.dataset.active) return;
      container.dataset.active = '1';
      for (let i = 0; i < 40; i++) {
        const leaf = document.createElement('div');
        leaf.className = 'leaf';
        leaf.textContent = 'üçÉ';
        const duration = 6 + Math.random() * 6;
        const delay = Math.random() * 2;
        const x = Math.random() * 100; // vw
        const size = 22 + Math.random() * 18;
        leaf.style.left = x + 'vw';
        leaf.style.fontSize = size + 'px';
        leaf.style.animation = `fall ${duration}s linear ${delay}s infinite`;
        container.appendChild(leaf);
      }
    }

    // –¢–∏–∫ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É
    updateTimer();
    setInterval(updateTimer, 1000);
  </script>
</body>
</html>
